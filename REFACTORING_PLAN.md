# Protein Viewer Android App - 리팩토링 계획

## 현재 문제점
1. 코드가 여러 패키지에 분산되어 있음
2. 데이터 모델이 일관성 없음
3. UI 컴포넌트가 재사용성 부족
4. AR 모듈이 불완전함
5. 테스트 코드 부족
6. 의존성 관리 복잡

## 새로운 Clean Architecture 구조

```
app/src/main/java/com/avas/proteinviewer/
├── core/                           # 핵심 비즈니스 로직
│   ├── domain/                     # 도메인 레이어
│   │   ├── model/                  # 도메인 모델
│   │   ├── repository/             # 리포지토리 인터페이스
│   │   ├── usecase/                # 유스케이스
│   │   └── error/                  # 도메인 에러
│   └── data/                       # 데이터 레이어
│       ├── local/                  # 로컬 데이터소스
│       ├── remote/                 # 원격 데이터소스
│       ├── repository/             # 리포지토리 구현
│       └── mapper/                 # 데이터 매퍼
├── presentation/                   # 프레젠테이션 레이어
│   ├── ui/                         # UI 컴포넌트
│   ├── viewmodel/                  # ViewModel
│   ├── state/                      # UI 상태
│   └── navigation/                 # 네비게이션
├── rendering/                      # 3D 렌더링
│   ├── engine/                     # 렌더링 엔진
│   ├── models/                     # 3D 모델
│   └── shaders/                    # 셰이더
├── ar/                            # AR 기능
│   ├── core/                      # AR 코어
│   ├── rendering/                 # AR 렌더링
│   └── tracking/                  # AR 추적
├── di/                           # 의존성 주입
└── util/                         # 유틸리티
```

## 리팩토링 단계

### 1단계: 아키텍처 재구성
- [x] 새로운 패키지 구조 생성
- [ ] 기존 코드를 새 구조로 이동
- [ ] 의존성 방향 정리

### 2단계: 데이터 모델 통합
- [ ] 도메인 모델 정의
- [ ] 데이터 모델 매핑
- [ ] 타입 안전성 확보

### 3단계: UI 컴포넌트 모듈화
- [ ] 재사용 가능한 컴포넌트 생성
- [ ] 디자인 시스템 구축
- [ ] 반응형 UI 개선

### 4단계: 3D 렌더링 엔진 정리
- [ ] 렌더링 파이프라인 최적화
- [ ] 메모리 관리 개선
- [ ] 성능 최적화

### 5단계: AR 모듈 재구성
- [ ] ARCore 통합 개선
- [ ] AR UI/UX 개선
- [ ] 성능 최적화

### 6단계: 테스트 및 문서화
- [ ] 단위 테스트 추가
- [ ] UI 테스트 추가
- [ ] 문서화 완성

## 예상 효과
1. 코드 가독성 향상
2. 유지보수성 개선
3. 테스트 용이성 증대
4. 성능 최적화
5. 확장성 향상


## 현재 문제점
1. 코드가 여러 패키지에 분산되어 있음
2. 데이터 모델이 일관성 없음
3. UI 컴포넌트가 재사용성 부족
4. AR 모듈이 불완전함
5. 테스트 코드 부족
6. 의존성 관리 복잡

## 새로운 Clean Architecture 구조

```
app/src/main/java/com/avas/proteinviewer/
├── core/                           # 핵심 비즈니스 로직
│   ├── domain/                     # 도메인 레이어
│   │   ├── model/                  # 도메인 모델
│   │   ├── repository/             # 리포지토리 인터페이스
│   │   ├── usecase/                # 유스케이스
│   │   └── error/                  # 도메인 에러
│   └── data/                       # 데이터 레이어
│       ├── local/                  # 로컬 데이터소스
│       ├── remote/                 # 원격 데이터소스
│       ├── repository/             # 리포지토리 구현
│       └── mapper/                 # 데이터 매퍼
├── presentation/                   # 프레젠테이션 레이어
│   ├── ui/                         # UI 컴포넌트
│   ├── viewmodel/                  # ViewModel
│   ├── state/                      # UI 상태
│   └── navigation/                 # 네비게이션
├── rendering/                      # 3D 렌더링
│   ├── engine/                     # 렌더링 엔진
│   ├── models/                     # 3D 모델
│   └── shaders/                    # 셰이더
├── ar/                            # AR 기능
│   ├── core/                      # AR 코어
│   ├── rendering/                 # AR 렌더링
│   └── tracking/                  # AR 추적
├── di/                           # 의존성 주입
└── util/                         # 유틸리티
```

## 리팩토링 단계

### 1단계: 아키텍처 재구성
- [x] 새로운 패키지 구조 생성
- [ ] 기존 코드를 새 구조로 이동
- [ ] 의존성 방향 정리

### 2단계: 데이터 모델 통합
- [ ] 도메인 모델 정의
- [ ] 데이터 모델 매핑
- [ ] 타입 안전성 확보

### 3단계: UI 컴포넌트 모듈화
- [ ] 재사용 가능한 컴포넌트 생성
- [ ] 디자인 시스템 구축
- [ ] 반응형 UI 개선

### 4단계: 3D 렌더링 엔진 정리
- [ ] 렌더링 파이프라인 최적화
- [ ] 메모리 관리 개선
- [ ] 성능 최적화

### 5단계: AR 모듈 재구성
- [ ] ARCore 통합 개선
- [ ] AR UI/UX 개선
- [ ] 성능 최적화

### 6단계: 테스트 및 문서화
- [ ] 단위 테스트 추가
- [ ] UI 테스트 추가
- [ ] 문서화 완성

## 예상 효과
1. 코드 가독성 향상
2. 유지보수성 개선
3. 테스트 용이성 증대
4. 성능 최적화
5. 확장성 향상


